"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?module.exports=t():"function"==typeof define&&define.amd?define("Siema",[],t):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?exports.Siema=t():e.Siema=t()}("undefined"!=typeof self?self:void 0,function(){return r=[function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},o=(function(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}(n,[{key:"attachEvents",value:function(){window.addEventListener("resize",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.selector.addEventListener("touchstart",this.touchstartHandler),this.selector.addEventListener("touchend",this.touchendHandler),this.selector.addEventListener("touchmove",this.touchmoveHandler),this.selector.addEventListener("mousedown",this.mousedownHandler),this.selector.addEventListener("mouseup",this.mouseupHandler),this.selector.addEventListener("mouseleave",this.mouseleaveHandler),this.selector.addEventListener("mousemove",this.mousemoveHandler),this.selector.addEventListener("click",this.clickHandler))}},{key:"detachEvents",value:function(){window.removeEventListener("resize",this.resizeHandler),this.selector.removeEventListener("touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler),this.selector.removeEventListener("click",this.clickHandler)}},{key:"init",value:function(){this.attachEvents(),this.selector.style.overflow="hidden",this.selector.style.direction=this.config.rtl?"rtl":"ltr",this.buildSliderFrame(),this.config.onInit.call(this)}},{key:"buildSliderFrame",value:function(){var e=this.selectorWidth/this.perPage,t=this.config.loop?this.innerElements.length+2*this.perPage:this.innerElements.length,r=(this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=e*t+"px",this.enableTransition(),this.config.draggable&&(this.selector.style.cursor="-webkit-grab"),document.createDocumentFragment());if(this.config.loop)for(var i=this.innerElements.length-this.perPage;i<this.innerElements.length;i++){var o=this.buildSliderFrameItem(this.innerElements[i].cloneNode(!0));r.appendChild(o)}for(var n=0;n<this.innerElements.length;n++){var s=this.buildSliderFrameItem(this.innerElements[n]);r.appendChild(s)}if(this.config.loop)for(var a=0;a<this.perPage;a++){var l=this.buildSliderFrameItem(this.innerElements[a].cloneNode(!0));r.appendChild(l)}this.sliderFrame.appendChild(r),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:"buildSliderFrameItem",value:function(e){var t=document.createElement("div");return t.style.cssFloat=this.config.rtl?"right":"left",t.style.float=this.config.rtl?"right":"left",t.style.width=(this.config.loop?100/(this.innerElements.length+2*this.perPage):100/this.innerElements.length)+"%",t.appendChild(e),t}},{key:"resolveSlidesNumber",value:function(){if("number"==typeof this.config.perPage)this.perPage=this.config.perPage;else if("object"===i(this.config.perPage))for(var e in this.perPage=1,this.config.perPage)window.innerWidth>=e&&(this.perPage=this.config.perPage[e])}},{key:"prev",value:function(){var e,t,r,i,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=arguments[1];this.innerElements.length<=this.perPage||(e=this.currentSlide,this.config.loop?this.currentSlide-o<0?(this.disableTransition(),t=this.currentSlide+this.innerElements.length,r=this.perPage,r=(this.config.rtl?1:-1)*(t+r)*(this.selectorWidth/this.perPage),i=this.config.draggable?this.drag.endX-this.drag.startX:0,this.sliderFrame.style[this.transformProperty]="translate3d("+(r+i)+"px, 0, 0)",this.currentSlide=t-o):this.currentSlide=this.currentSlide-o:this.currentSlide=Math.max(this.currentSlide-o,0),e!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),n&&n.call(this)))}},{key:"next",value:function(){var e,t,r,i,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=arguments[1];this.innerElements.length<=this.perPage||(e=this.currentSlide,this.config.loop?this.currentSlide+o>this.innerElements.length-this.perPage?(this.disableTransition(),t=this.currentSlide-this.innerElements.length,r=this.perPage,r=(this.config.rtl?1:-1)*(t+r)*(this.selectorWidth/this.perPage),i=this.config.draggable?this.drag.endX-this.drag.startX:0,this.sliderFrame.style[this.transformProperty]="translate3d("+(r+i)+"px, 0, 0)",this.currentSlide=t+o):this.currentSlide=this.currentSlide+o:this.currentSlide=Math.min(this.currentSlide+o,this.innerElements.length-this.perPage),e!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),n&&n.call(this)))}},{key:"disableTransition",value:function(){this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing}},{key:"enableTransition",value:function(){this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing}},{key:"goTo",value:function(e,t){var r;this.innerElements.length<=this.perPage||(r=this.currentSlide,this.currentSlide=this.config.loop?e%this.innerElements.length:Math.min(Math.max(e,0),this.innerElements.length-this.perPage),r!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this)))}},{key:"slideToCurrent",value:function(e){var t=this,r=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,i=(this.config.rtl?1:-1)*r*(this.selectorWidth/this.perPage);e?requestAnimationFrame(function(){requestAnimationFrame(function(){t.enableTransition(),t.sliderFrame.style[t.transformProperty]="translate3d("+i+"px, 0, 0)"})}):this.sliderFrame.style[this.transformProperty]="translate3d("+i+"px, 0, 0)"}},{key:"updateAfterDrag",value:function(){var e=(this.config.rtl?-1:1)*(this.drag.endX-this.drag.startX),t=Math.abs(e),r=this.config.multipleDrag?Math.ceil(t/(this.selectorWidth/this.perPage)):1,i=0<e&&this.currentSlide-r<0,o=e<0&&this.currentSlide+r>this.innerElements.length-this.perPage;0<e&&t>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(r):e<0&&t>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(r),this.slideToCurrent(i||o)}},{key:"resizeHandler",value:function(){this.resolveSlidesNumber(),this.currentSlide+this.perPage>this.innerElements.length&&(this.currentSlide=this.innerElements.length<=this.perPage?0:this.innerElements.length-this.perPage),this.selectorWidth=this.selector.offsetWidth,this.buildSliderFrame()}},{key:"clearDrag",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick}}},{key:"touchstartHandler",value:function(e){-1===["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)&&(e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.touches[0].pageX,this.drag.startY=e.touches[0].pageY)}},{key:"touchendHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"touchmoveHandler",value:function(e){var t;e.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-e.touches[0].pageY)<Math.abs(this.drag.startX-e.touches[0].pageX)),this.pointerDown&&this.drag.letItGo&&(e.preventDefault(),this.drag.endX=e.touches[0].pageX,this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing,e=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),t=this.drag.endX-this.drag.startX,e=this.config.rtl?e+t:e-t,this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*e+"px, 0, 0)")}},{key:"mousedownHandler",value:function(e){-1===["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)&&(e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.pageX)}},{key:"mouseupHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"mousemoveHandler",value:function(e){var t;e.preventDefault(),this.pointerDown&&("A"===e.target.nodeName&&(this.drag.preventClick=!0),this.drag.endX=e.pageX,this.selector.style.cursor="-webkit-grabbing",this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing,e=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),t=this.drag.endX-this.drag.startX,e=this.config.rtl?e+t:e-t,this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*e+"px, 0, 0)")}},{key:"mouseleaveHandler",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endX=e.pageX,this.drag.preventClick=!1,this.enableTransition(),this.updateAfterDrag(),this.clearDrag())}},{key:"clickHandler",value:function(e){this.drag.preventClick&&e.preventDefault(),this.drag.preventClick=!1}},{key:"remove",value:function(e,t){if(e<0||e>=this.innerElements.length)throw new Error("Item to remove doesn't exist 😭");var r=e<this.currentSlide,i=this.currentSlide+this.perPage-1===e;(r||i)&&this.currentSlide--,this.innerElements.splice(e,1),this.buildSliderFrame(),t&&t.call(this)}},{key:"insert",value:function(e,t,r){if(t<0||t>this.innerElements.length+1)throw new Error("Unable to inset it at this index 😭");if(-1!==this.innerElements.indexOf(e))throw new Error("The same item in a carousel? Really? Nope 😭");var i=0<(t<=this.currentSlide)&&this.innerElements.length;this.currentSlide=i?this.currentSlide+1:this.currentSlide,this.innerElements.splice(t,0,e),this.buildSliderFrame(),r&&r.call(this)}},{key:"prepend",value:function(e,t){this.insert(e,0),t&&t.call(this)}},{key:"append",value:function(e,t){this.insert(e,this.innerElements.length+1),t&&t.call(this)}},{key:"destroy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(this.detachEvents(),this.selector.style.cursor="auto",e){for(var r=document.createDocumentFragment(),i=0;i<this.innerElements.length;i++)r.appendChild(this.innerElements[i]);this.selector.innerHTML="",this.selector.appendChild(r),this.selector.removeAttribute("style")}t&&t.call(this)}}],[{key:"mergeSettings",value:function(e){var t,r={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!1,rtl:!1,onInit:function(){},onChange:function(){}},i=e;for(t in i)r[t]=i[t];return r}},{key:"webkitOrNot",value:function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}}]),n);function n(e){var t=this;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(this.config=n.mergeSettings(e),this.selector="string"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,null===this.selector)throw new Error("Something wrong with your selector 😭");this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.loop?this.config.startIndex%this.innerElements.length:Math.max(0,Math.min(this.config.startIndex,this.innerElements.length-this.perPage)),this.transformProperty=n.webkitOrNot(),["resizeHandler","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler","clickHandler"].forEach(function(e){t[e]=t[e].bind(t)}),this.init()}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t.default=o,e.exports=t.default}],o={},i.m=r,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0);function i(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},r[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var r,o});var Dell=Dell||{};function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,o,n=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,o,n=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Dell.CompareDrawerConst=Dell.CompareDrawerConst||{},Dell.CompareDrawerConst.Events={CheckStatus:"/comparedrawer/checkStatus",AddProductToCompareDrawer:"/comparedrawer/addProduct",RemoveProductFromCompareDrawer:"/comparedrawer/removeProduct"},(Dell=Dell||window.Dell||{}).CompareDrawerToggle=Dell.CompareDrawerToggle||{},Dell.CompareDrawerBackwardCompatibility=Dell.CompareDrawerBackwardCompatibility||{},Dell.CompareDrawerToggle.PremierRoBackwardCompatibilityToggle=Dell.CompareDrawerToggle.PremierRoBackwardCompatibilityToggle||!1,Dell.CompareDrawerPremierContext=Dell.CompareDrawerPremierContext||{},function(p){!function(){var i=Dell.CompareDrawerPremierContext;function e(){var e,t;s()&&i.isPremier()&&(e=n(),"object"===("undefined"==typeof amplify?"undefined":_typeof(amplify))&&amplify.store("productOC")&&(t=Object.entries(amplify.store("productOC")).map(function(e){return{productId:_slicedToArray(e,1)[0]}})||[],0<amplify.store("productOC:size")&&t.forEach(function(e){e=e.productId;c(e)<0&&Dell.CompareDrawerEvents.removeProductFromCompareDrawer({itemIdentifier:e})})),e&&0<e.products.length&&e.products.forEach(function(e){e=function(e){if(!l(e))return null;var t=null,r=null;e.price&&e.price.formattedValues&&(t=e.price.formattedValues.startingPrice,r=e.price.formattedValues.salePrice);var i=void 0!==e.orderCode?e.orderCode:e.productId,t={productId:void 0!==e.orderCode?e.orderCode:e.productId,title:e.productTitle,image:e.image,showMarketPrice:e.showMarketPrice,marketPrice:t,dellPrice:r,pdUrl:e.pdUrl,isSnp:e.isSnPItem,snpStockStatus:e.snpStockStatus};return _defineProperty({},i,t)}(e);e&&Dell.CompareDrawerEvents.addProductToCompareDrawer({newProduct:e})}),e&&0===e.products.length&&(amplify.store("productOC",null),amplify.store("productOC:size",0)))}function t(e){var r=n();s()&&i.isPremier()&&(e&&0<e.length&&e.forEach(function(e){var t={},t=e.isSnp?{productId:e.productId,image:e.image,productTitle:e.title,isSnPItem:e.isSnp,pdUrl:e.pdUrl,showMarketPrice:e.showMarketPrice,snpStockStatus:e.snpStockStatus,price:{startingPrice:a(e.marketPrice),salePrice:a(e.dellPrice),formattedValues:{startingPrice:e.marketPrice,salePrice:e.dellPrice}}}:{orderCode:e.productId,image:e.image,productTitle:e.title,pdUrl:e.pdUrl,showMarketPrice:e.showMarketPrice,snpStockStatus:e.snpStockStatus,productId:e.variantCode,price:{startingPrice:a(e.marketPrice),salePrice:a(e.dellPrice),formattedValues:{startingPrice:e.marketPrice,salePrice:e.dellPrice}}};e.enableSlashthruPricing&&e.enableDiscount?(t.price.enableSlashthruPricing=e.enableSlashthruPricing,t.price.enableDiscount=e.enableDiscount):(t.price.enableSlashthruPricing=e.showMarketPrice,t.price.enableDiscount=e.showMarketPrice),void 0!==e.productId&&-1===c(e.productId)&&r.products.push(t)}),0<r.products.length&&u(r))}function n(){var e=d();if(p.sessionStorage){var t=p.sessionStorage.getItem(e.storageName);if(t)return JSON.parse(t)}return e}function r(e){var t;s()&&i.isPremier()&&(t=n(),-1!==(e=c(e))&&(t.products.splice(e,1),u(t)))}function o(){var e=d();s()&&i.isPremier()&&u(e)}function s(){return!!(Dell&&Dell.CompareDrawerToggle&&Dell.CompareDrawerToggle.PremierRoBackwardCompatibilityToggle)&&Dell.CompareDrawerToggle.PremierRoBackwardCompatibilityToggle.toLowerCase()}function a(e){return void 0!==e&&null!=e&&0<(e=e.toString().replace(/[^0-9\.]+/g,"")).length&&"."!==e?parseFloat(e):0}function l(e){if(e.isSnPItem){if(void 0===e.productTitle||void 0===e.productId||void 0===e.image||void 0===e.pdUrl||void 0===e.price.formattedValues.salePrice)return!1}else if(void 0===e.orderCode||void 0===e.productTitle||void 0===e.image||void 0===e.pdUrl||void 0===e.price.formattedValues.salePrice)return!1;return!0}function c(r){var i,o=!1,e=n();return r&&e&&0<e.products.length&&e.products.forEach(function(e,t){e.isSnPItem?e.productId&&r&&e.productId.toLowerCase()===r.toLowerCase()&&(o=!0,i=t):e.orderCode&&r&&e.orderCode.toLowerCase()===r.toLowerCase()&&(o=!0,i=t)}),o?i:-1}function d(){return{storageName:"productCompare",countryCode:"",customerSet:"",accessGroupId:"",products:[]}}function u(e){var t=Dell.Metrics.sc.country,r=Dell.Metrics.sc.premier_accessgroupid,i=Dell.Metrics.sc.customerset;p.sessionStorage&&(e.countryCode=t,e.customerSet=i,e.accessGroupId=r,p.sessionStorage.setItem(e.storageName,JSON.stringify(e)))}this.saveToLocalStorage=e,this.saveToSessionStorage=t,this.getCompatibilityToggle=s,this.getSessionStorageItems=n,this.removeSessionItem=r,this.removeAllSessionStorage=o,this.getDecimalFromPriceString=a,this.isSessionValid=l,this.getSessionModel=d,"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports={saveToLocalStorage:e,saveToSessionStorage:t,getSessionStorageItems:n,getCompatibilityToggle:s,removeAllSessionStorage:o,removeSessionItem:r,getDecimalFromPriceString:a})}.call(Dell.CompareDrawerBackwardCompatibility)}(window,document),(Dell=Dell||window.Dell||{}).CompareDrawerPremierContext=Dell.CompareDrawerPremierContext||{},window,document,function(){var e,t="rc";function r(){return i(e)}function i(e){return!(!e||-1===e.toLowerCase().indexOf(t))}void 0!==Dell&&void 0!==Dell.Metrics&&void 0!==Dell.Metrics.sc&&void 0!==Dell.Metrics.sc.country&&void 0!==Dell.Metrics.sc.language&&void 0!==Dell.Metrics.sc.segment&&void 0!==Dell.Metrics.sc.customerset&&(Dell.Metrics.sc.country,Dell.Metrics.sc.language,Dell.Metrics.sc.segment,e=Dell.Metrics.sc.customerset),this.isPremier=r,"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports={isPremier:r,isPremierUtil:i})}.call(Dell.CompareDrawerPremierContext),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,i=new Array(r);r--;)i[r]=[t[r],e[t[r]]];return i});var cfCompareDrawer=function(n){var r,i,o,s,a,e,t,l,c,d,u,p,m,h,f,y,g,v=v||window.Dell||{};if("object"===("undefined"==typeof amplify?"undefined":_typeof(amplify)))return r=n(".cd-compare-drawer-wrap"),i=document.querySelector(".cd-carousel-nav .cd-prev"),o=document.querySelector(".cd-carousel-nav .cd-next"),s=null,a=v.CompareDrawerBackwardCompatibility,void 0!==v&&void 0!==v.Metrics&&void 0!==v.Metrics.sc&&void 0!==v.Metrics.sc.country&&void 0!==v.Metrics.sc.language&&void 0!==v.Metrics.sc.segment&&void 0!==v.Metrics.sc.customerset&&(e=v.Metrics.sc.country,t=v.Metrics.sc.language,l=v.Metrics.sc.segment,c=v.Metrics.sc.customerset),d={ocs:[],productOCList:{},compareDrawerClosed:!0,size:null},u=function(){return"False"!==v.CompareDrawerToggle.PcfCompareUrlEnabledToggle},p=function(){return v.CompareDrawerPremierContext.isPremier()},(f=n(".cd-cp-items-row .cd-carousel").eq(0)).closest(".cd-cp-items-row"),y=n(".cd-cp-cta-wrap a").eq(0),g=n("[cd-compare-count]"),removeItemButton(n,v),openAndCloseBrowser(n,r),window.addEventListener("resize",function(){m&&window.cancelAnimationFrame(m),m=window.requestAnimationFrame(function(){k()})},!1),"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(h={checkLwp:w,checkPremierLwp:b,updateLwp:C,resetDrawer:S,updateItemNumber:E,refreshUI:k,removeItem:D,updateCompareDrawerObj:P,compareDrawerObj:d,updateElementVisibility:T,isPremier:p,openAndCloseBrowser:openAndCloseBrowser,removeItemButton:removeItemButton,SiemaStub:SiemaStub},module.exports=h),{checkLwp:w,checkPremierLwp:b,updateLwp:C,resetDrawer:S,updateItemNumber:E,refreshUI:k,removeItem:D,updateCompareDrawerObj:P,compareDrawerObj:d,updateElementVisibility:T,isPremier:p};function b(){p()&&void 0===v.Metrics.sc.premier_accessgroupid&&S()}function w(){if(void 0!==e&&void 0!==t&&void 0!==l&&void 0!==c){if(void 0===amplify.store("country"))amplify.store("country",e);else if(null!=amplify.store("country")&&null!=e&&amplify.store("country").toString().toLowerCase()!==e.toLowerCase())return void S();if(void 0===amplify.store("lang"))amplify.store("lang",t);else if(null!=amplify.store("lang")&&null!=t&&amplify.store("lang").toString().toLowerCase()!==t.toLowerCase())return void S();if(void 0===amplify.store("seg"))amplify.store("seg",l);else if(null!=amplify.store("seg")&&null!=l&&amplify.store("seg").toString().toLowerCase()!==l.toLowerCase())return void S();void 0===amplify.store("cs")?amplify.store("cs",c):null!=amplify.store("cs")&&null!=c&&amplify.store("cs").toString().toLowerCase()!==c.toLowerCase()&&S()}else S()}function S(){C(),amplify.store("productOC",null),amplify.store("productOC:size",0),a.removeAllSessionStorage()}function C(){amplify.store("country",e),amplify.store("lang",t),amplify.store("seg",l),amplify.store("cs",c)}function D(e){var t,r,i=d.productOCList;i&&(amplify.store(e,null),delete i[e],t=Object.keys(i).length,i=i,r=t,amplify.store("productOC",null),amplify.store("productOC",i),amplify.store("productOC:size",r),a.removeSessionItem(e),t<1?n(".cd-compare-drawer-wrap").hide():P())}function P(){if("object"===("undefined"==typeof amplify?"undefined":_typeof(amplify))&&void 0!==amplify.store("productOC")&&"undefined"!==amplify.store("productOC:size")&&(w(),b(),void 0!==amplify.store("productOC"))){var e=amplify.store("productOC"),t=Object.entries(e).map(function(e){return{productId:_slicedToArray(e,1)[0]}})||[],r=amplify.store("productOC:size")||0,i=[];if(e&&r){d.productStoreItems=[],d.convergenceOcs=[],d.convergenceSkus=[],d.orderCodes=[],d.skus=[],d.productOCList=e,d.size=r||null,d.compareDrawerClosed=amplify.store("compareDrawerClosed")||!0;for(var o,n,e="skus=",s=0;s<t.length;s++){var a=amplify.store(t[s].productId)||null;"object"===_typeof(a)&&null!==a&&(d.productStoreItems.push(a),o=t[s],n=i,a=a,(p()?null!=a.isSnp&&""!=a.isSnp&&a.isSnp?d.convergenceSkus:d.convergenceOcs:u()?null!=a.isSnp&&""!=a.isSnp&&a.isSnp?d.skus:d.orderCodes:n).push(o.productId))}u()&&(r=0<d.orderCodes.length?"orderCodes="+d.orderCodes.toString():"",0<d.orderCodes.length&0<d.skus.length&&(e="&"+e),e=0<d.skus.length?e+d.skus.toString():"",i.push(r+e)),d.linkQueryString=i,k()}}}function k(){var e,t;!Array.isArray(d.productStoreItems)||d.productStoreItems.length<1||(T(),p()?y.attr("cd-convergence-link")?(e=y.attr("cd-convergence-link").replace("rc",c),y.attr("href",e)):y.hide():u()?void 0!==y.attr("cd-base-link")&&y.attr("href",y.attr("cd-base-link").replace("ocs=","")+d.linkQueryString.join(",")):y.attr("href",y.attr("cd-base-link")+d.linkQueryString.join(",")),"number"==typeof d.size&&E(d.size),e=function(){if(Array.isArray(d.productStoreItems)&&!(d.productStoreItems.length<1)){for(var e=[],t=0,r=[],i=[],o=0;o<d.productStoreItems.length;o++){var n=d.productStoreItems[o],s=void 0!==n.snpStockStatus&&3===n.snpStockStatus?"cd-hide":"",a=void 0!==n.marketPrice&&void 0!==n.showMarketPrice&&n.showMarketPrice?"":"cd-hide";r[o]=n.productId,i[o]=n.isSnp?n.productId:n.variantCode,e[t++]="<div>",e[t++]='   <div class="cd-cp-item">',e[t++]='       <button class="cd-close-icon" aria-label="remove item" cd-remove-id="'+n.productId+'"></button>',e[t++]='       <div class="cd-cp-img-wrap">',e[t++]='           <img src="'+n.image+'" alt="'+n.title+'" />',e[t++]="       </div>",e[t++]="       <div>",e[t++]='           <h3><a href="'+n.pdUrl+'">'+n.title+"</a></h3>",e[t++]='           <div class="'+s+'">',e[t++]='               <span class="cd-strikethrough '+a+'">'+n.marketPrice+"</span>",e[t++]="               <span>"+n.dellPrice+"</span >",e[t++]="           </div>",e[t++]="       </div>",e[t++]="   </div>",e[t++]="</div>"}return 0<document.getElementsByClassName("cd-btn-blue").length&&document.getElementsByClassName("cd-btn-blue")[0].setAttribute("data-metrics",'{"variant":"'+i.join(";")+'","productid":"'+r.join(";")+'","btnname":"compareproducts"}'),e.join("\n")}}(),t=767<window.innerWidth,f.html(e),t||null===s?t&&(s=SiemaStub(s,function(){i.disabled=!0},function(){I(s,i,o)}),null!=i&&void 0!==i&&i.addEventListener("click",function(){return s.prev()}),null!=o&&void 0!==o&&o.addEventListener("click",function(){return s.next()})):f.html(e),t&&null!==s&&null!=i&&void 0!==i&&null!=o&&void 0!==o&&I(s,i,o))}function E(e){g.attr("cd-compare-count",e)}function I(e,t,r){var i=1200<=window.innerWidth?3:2,o=e.currentSlide;0===o?n(t).addClass("cd-disabled"):n(t).removeClass("cd-disabled"),t.disabled=0===o,o===e.innerElements.length+1||o+i>=e.innerElements.length?n(r).addClass("cd-disabled"):n(r).removeClass("cd-disabled"),r.disabled=o===e.innerElements.length+1||o+i>=e.innerElements.length}function T(){var e,t=amplify.store("productOC:size");!t&&"number"!=typeof t||(0<t?(r.addClass("cd-show-cp-tab"),n(".cd-compare-drawer-wrap").show()):r.removeClass("cd-show-cp-tab"),amplify.store("compareDrawerClosed",!1),(!0===(e=amplify.store("compareDrawerClosed"))||void 0===e)&&1<t&&(r.addClass("cd-cp-drawer-open"),amplify.store("compareDrawerClosed",!1)))}}(jQuery);function openAndCloseBrowser(e,t){e("body").on("click touchend",".cd-compare-tab, .cd-cp-hide-button",function(e){e.preventDefault(),e.stopPropagation(),t.toggleClass("cd-cp-drawer-open"),t.hasClass("cd-cp-drawer-open")&&_callDellMetricsOnClick();e=amplify.store("compareDrawerClosed");amplify.store("compareDrawerClosed",!e)})}function _callDellMetricsOnClick(){"function"==typeof dellmetrics_trackdata&&null!==dellmetrics_trackdata&&dellmetrics_trackdata("comparedrawerlaunch")}function removeItemButton(t,r){t("body").on("click touchend",".cd-cp-item .cd-close-icon",function(e){e.preventDefault(),e.stopPropagation(),r.SmartUI.Events.publish("/comparedrawer/removeProduct",{itemIdentifier:t(this).attr("cd-remove-id")})})}function SiemaStub(e,t,r){return new Siema({selector:".cd-carousel",draggable:!0,loop:!1,perPage:{767:2,1200:3},onInit:t,onChange:r})}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cfCompareDrawer.updateCompareDrawerObj(),(Dell=Dell||window.Dell||{}).CompareDrawerEvents=Dell.CompareDrawerEvents||{},Dell.CompareDrawerBackwardCompatibility=Dell.CompareDrawerBackwardCompatibility||{},window,document,function(){function e(){var t,e=[];"object"===("undefined"==typeof amplify?"undefined":_typeof(amplify))&&amplify.store("productOC")&&amplify.store("productOC:size")&&(t=amplify.store("productOC"),e=Object.keys(t).map(function(e){return t[e]})),Dell.SmartUI.Events.publish(Dell.CompareDrawerConst.Events.CheckStatus,{productsInCompareDrawer:e})}function t(e){var t="";null!==e&&""!==e&&(t=e[Object.keys(e)[0]]),void 0!==cfCompareDrawer&&(cfCompareDrawer.removeItem(t),o())}function r(e){var t,r,i={};null!==e&&(t=(e=e[Object.keys(e)[0]])[Object.keys(e)[0]],r=Object.keys(e)[0],void 0===(e=e[r]).image||void 0===e.title||void 0===e.pdUrl||void 0===e.dellPrice||"object"===("undefined"==typeof amplify?"undefined":_typeof(amplify))&&amplify.store("productOC")&&amplify.store("productOC:size")&&void 0!==(i=amplify.store("productOC"))[r]||(i.constructor===Object&&(i[r]=r),"object"===("undefined"==typeof amplify?"undefined":_typeof(amplify))&&(amplify.store(r,t),amplify.store("productOC",null),amplify.store("productOC",i),amplify.store("productOC:size",Object.keys(i).length)),void 0!==cfCompareDrawer&&((e=[]).push(t),Dell.CompareDrawerBackwardCompatibility.saveToSessionStorage(e),cfCompareDrawer.updateCompareDrawerObj(),o())))}function o(){Dell.CompareDrawerEvents.checkProductsInCompare()}this.checkProductsInCompare=e,this.removeProductFromCompareDrawer=t,this.addProductToCompareDrawer=r,this.checkProducts=o,"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports={checkProductsInCompare:e,removeProductFromCompareDrawer:t,addProductToCompareDrawer:r,checkProducts:o})}.call(Dell.CompareDrawerEvents),function(){function e(){Dell.CompareDrawerEvents.checkProductsInCompare()}function t(){Dell.CompareDrawerBackwardCompatibility.saveToLocalStorage()}e(),t(),Dell.SmartUI.Events.subscribe(Dell.CompareDrawerConst.Events.RemoveProductFromCompareDrawer,Dell.CompareDrawerEvents.removeProductFromCompareDrawer),Dell.SmartUI.Events.subscribe(Dell.CompareDrawerConst.Events.AddProductToCompareDrawer,Dell.CompareDrawerEvents.addProductToCompareDrawer),"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports={checkProducts:e,updateSessionToLocalStorage:t})}(jQuery);